# Configs

## Overview

The following document is to provide you a tabular list of of configurations and parameters for your Producers, Consumers, and Topics that will have an effect on the performance of your kafka application depending on if you require `Throughput`, `Latency`, `Durability`, and `Availability`. Since the goal is to keep this generic for all customers there are no recommended values you listed but instead values that have an affect on performance is marked with an `X` and a link to more information regarding the configuration itself. It is up to the developer to be cognizant based on defaults and information provided to tune their application accordingly for optimal performance for their application. 

:warning: The configs listed are in regards to cli properties, Java, and Springboot. Due to the nature of Spring Kafka you will need to perform additional research into how to make changes to similar properties listed below.

### Producer Configs

Below are some recommended configs for producing clients:

| Properties                                                                                                                                                                                 | Description                                                                                                                                                                                                                                                                                                                     | Default        | Throughput | Latency | Durability | Availability |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------- | ---------- | ------- | ---------- | ------------ |
| [batch.size](https://docs.confluent.io/platform/current/installation/configuration/producer-configs.html#producerconfigs_batch.size)                                                       | The producer will attempt to batch records together into fewer requests whenever multiple records are being sent to the same partition.                                                                                                                                                                                         | 16384 bytes    | X          |         | \---       | \---         |
| [linger.ms](https://docs.confluent.io/platform/current/installation/configuration/producer-configs.html#producerconfigs_linger.ms)                                                         | This setting accomplishes this by adding a small amount of artificial delaythat is, rather than immediately sending out a record,the producer will wait for up to the given delay to allow other records to be sent so that the sends can be batched together. This setting gives the upper bound on the delay for batching | 0              | X          | X       | \---       | \---         |
| [compression.type](https://docs.confluent.io/platform/current/installation/configuration/producer-configs.html#producerconfigs_compression.type)                                           | The compression type for all data generated by the producer.Â Valid values are none, gzip, snappy, lz4, or zstd.Compression is of full batches of data, so the efficacy of batching will also impact the compression ratio (more batching means better compression).                                                         | none           | X          | X       | \---       | \---         |
| [acks](https://docs.confluent.io/platform/current/installation/configuration/producer-configs.html#producerconfigs_acks)                                                                   | The number of acknowledgments the producer requires the leader to have received before considering a request complete                                                                                                                                                                                                           | all            | X          | X       | X          | \---         |
| [buffer.memory](https://docs.confluent.io/platform/current/installation/configuration/producer-configs.html#producerconfigs_buffer.memory)                                                 | The total bytes of memory the producer can use to buffer records waiting to be sent to the server                                                                                                                                                                                                                               | 33554432 bytes | X          |         |            | \---         |
| [enable.idempotence](https://docs.confluent.io/platform/current/installation/configuration/producer-configs.html#producerconfigs_enable.idempotence)                                       | When set to 'true', the producer will ensure that exactly one copy of each message is written in the stream.If 'false', producer retries due to broker failures, etc., may write duplicates of the retried message in the stream.                                                                                           | TRUE           | \---       | \---    | X          | \---         |
| [max.in.flight.requests.per.connection](https://docs.confluent.io/platform/current/installation/configuration/producer-configs.html#producerconfigs_max.in.flight.requests.per.connection) | The maximum number of unacknowledged requests the client will send on a single connection before blocking                                                                                                                                                                                                                       | 5              | \---       | \---    | X          | \---         |

### Consumer Properties

Below are some recommended configs for consumer clients:

| Properties                                                                                                                                           | Description                                                                                                                                                                                        | Default           | Throughput | Latency | Durability | Availability |
| ---------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------- | ---------- | ------- | ---------- | ------------ |
| [fetch.min.bytes](https://docs.confluent.io/platform/current/installation/configuration/consumer-configs.html#consumerconfigs_fetch.min.bytes)       | The minimum amount of data the server should return for a fetch request.If insufficient data is available the request will wait for that much data to accumulate before answering the request. | 1 byte            | X          | X       |            |              |
| [enable.auto.commit](https://docs.confluent.io/platform/current/installation/configuration/consumer-configs.html#consumerconfigs_enable.auto.commit) | If true the consumer's offset will be periodically committed in the background.                                                                                                                    | TRUE              |            |         | X          |              |
| [isolation.level](https://docs.confluent.io/platform/current/installation/configuration/consumer-configs.html#consumerconfigs_isolation.level)       | Controls how to read messages written transactionally.                                                                                                                                             | read\_uncommitted |            | X       |            |
| [session.timeout.ms](https://docs.confluent.io/platform/current/installation/configuration/consumer-configs.html#consumerconfigs_session.timeout.ms) | The timeout used to detect client failures when using Kafka's group management facility                                                                                                            | 45000             |            |         |            | X            |


### Topic Configuration

Below are some recommended configs for topics. Currently customers are unable to configure their topics after creation. For the time being please open a ticket with Kafka service team with the parameter you wish to tune. If you desire to create a new topic. When performing this on CLI you will use `--config` flag for each parameter you which to change different from default. Option 2 is using the `Advanced` button when creating a new topic in Control Center.

| Properties                                                                                                                                                             | Description                                                                                                                                     | Default  | Throughput | Latency | Durability | Availability |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------- | -------- | ---------- | ------- | ---------- | ------------ |
| replication.factor                                                                                                                                                     | replicas of partitions per topic should be equal to at least min.insync.replicas                                                                | 1        | \---       | \---    | X          |              |
| [unclean.leader.election.enable](https://docs.confluent.io/platform/current/installation/configuration/topic-configs.html#topicconfigs_unclean.leader.election.enable) | Indicates whether to enable replicas not in the ISR set to be elected as leader as a last resort, even though doing so may result in data loss. | FALSE    | \---       | \---    | X          | X            |
| partitions                                                                                                                                                             | desired number of consumer groups                                                                                                               | n/a      | \---       | \---    | \---       | \---         |
| [min.insync.replicas](https://docs.confluent.io/platform/current/installation/configuration/topic-configs.html#topicconfigs_min.insync.replicas)                       | this configuration specifies the minimum number of replicas that must acknowledge a write for the write to be considered successful             | 1        | \---       | \---    | X          | X            |
| [unclean.leader.election.enable](https://docs.confluent.io/platform/current/installation/configuration/topic-configs.html#topicconfigs_unclean.leader.election.enable) | Indicates whether to enable replicas not in the ISR set to be elected as leader as a last resort, even though doing so may result in data loss. | FALSE    | \---       | \---    | \---       | \---         |
| [flush.ms](https://docs.confluent.io/platform/current/installation/configuration/topic-configs.html#topicconfigs_flush.ms)                                             | This setting allows specifying a time interval at which we will force an fsync of data written to the log                                       | 9.22E+18 | \---       | \---    | \---       | \---         |
| [flush.messages](https://docs.confluent.io/platform/current/installation/configuration/topic-configs.html#topicconfigs_flush.messages)                                 | This setting allows specifying an interval at which we will force an fsync of data written to the log.                                          | 9.22E+18 | \---       | \---    | \---       | \---         |